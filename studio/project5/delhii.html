<!DOCTYPE html> 
<html>     
    <head> 
        <title></title> 
              <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
              <script src="api.js" type="text/javascript"></script>
              <link href="style.css" rel="stylesheet" type="text/css" />

    </head> 
 
 <style>
input {
 margin-left: 15vw;
}
img{
  width:95vw;
  height:40vw;
}
</style>

<body>
<input type="file" accept="image/*" onchange="loadFile(event)">
<img id="output" border="8" width="600" height="250"/>

</body>

<script>
  var loadFile = function(event) {
    var reader = new FileReader();
    reader.onload = function(){
      var output = document.getElementById('output');
      output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  };

//visibility
$(function() {

var url = 'https://api.openweathermap.org/data/2.5/weather?id=1273294&units=metric&APPID=5b80cfe53a315fdfa9f5d600e141354e'

  $.get(url, function(data) {

var visibility = data.visibility;
    console.log(visibility);
        if (visibility <= 2000){
            $("img").css("opacity", "0.1");
        } else if (visibility <= 5000){
            $("img").css("opacity", "0.2");
        } else if (visibility <= 8000){
            $("img").css("opacity", "0.3");
      }else if (visibility <= 11000){
            $("img").css("opacity", "0.4");
      }else if (visibility <= 14000){
            $("img").css("opacity", "0.6");
      }else if (visibility <= 17000){
            $("img").css("opacity", "0.8");
      }else if (visibility <= 20000){
            $("img").css("opacity", "1");
      }
    });
});


//cloudiness
$(function() {

var url = 'https://api.openweathermap.org/data/2.5/weather?id=1273294&units=metric&APPID=5b80cfe53a315fdfa9f5d600e141354e'

  $.get(url, function(data) {

var cloudiness = data.clouds.all;
    console.log(cloudiness);
        if (cloudiness <= 10){
            $("img").css("border-color", "rgb(255, 255, 255)");
        } else if (cloudiness <= 20){
            $("img").css("border-color", "rgb(240, 240, 240)");
        } else if (cloudiness <= 30){
            $("img").css("border-color", "rgb(230, 230, 230)");
      }else if (cloudiness <= 40){
            $("img").css("border-color", "rgb(200, 200, 200)");
      }else if (cloudiness <= 50){
            $("img").css("border-color", "rgb(180, 180, 180)");
      }else if (cloudiness <= 60){
            $("img").css("border-color", "rgb(160, 160, 160)");
      }else if (cloudiness <= 70){
            $("img").css("border-color", "rgb(120, 120, 120)");
      }else if (cloudiness <= 80){
            $("img").css("border-color", "rgb(100, 100, 100)");
      }else if (cloudiness <= 90){
            $("img").css("border-color", "rgb(60, 60, 60)");
      }else if (cloudiness <= 100){
            $("img").css("border-color", "rgb(0, 0, 0)");
      }
    });
});

//temp
$(function() {

var url = 'https://api.openweathermap.org/data/2.5/weather?id=1273294&units=metric&APPID=5b80cfe53a315fdfa9f5d600e141354e'

  $.get(url, function(data) {

var temp = data.main.temp;
    console.log(temp);
        if (temp <= 5){
            $("body").css("background-color", "#40FF7F");
        } else if (temp <= 10){
            $("body").css("background-color", "#3A9A20");
        } else if (temp <= 15){
            $("body").css("background-color", "#FFFC86");
      }else if (temp <= 20){
            $("body").css("background-color", "#FCECA4");
      }else if (temp <= 25){
            $("body").css("background-color", "#FF9C15");
      }else if (temp <= 30){
            $("body").css("background-color", "#CE2115");
      }else if (temp <= 35){
            $("body").css("background-color", "#860100");
      }
    });
});
</script>

</html>